<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>نظام الإدارة الاستراتيجي | لوحة تحكم المشرفين</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Noto+Sans+Arabic:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #0f172a;
            --accent: #2563eb;
        }
        body {
            font-family: 'Noto Sans Arabic', 'Inter', sans-serif;
            background-color: #f8fafc;
            color: #1e293b;
        }
        .glass-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(226, 232, 240, 0.8);
        }
        .sidebar-gradient {
            background: linear-gradient(180deg, #0f172a 0%, #1e293b 100%);
        }
        .data-row:hover {
            background-color: #f1f5f9;
            transform: translateX(-4px);
        }
        .transition-custom {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
    </style>
</head>
<body class="min-h-screen">

    <nav class="bg-white border-b border-gray-200 sticky top-0 z-50 px-6 py-3">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-200">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                    </svg>
                </div>
                <div>
                    <h2 class="text-lg font-bold tracking-tight text-slate-800 leading-none">الإدارة المركزية</h2>
                    <span class="text-xs text-slate-500 font-medium">نظام إدارة روابط الأهداف للمشرفين</span>
                </div>
            </div>
            
            <div class="hidden md:flex items-center gap-6">
                <div class="flex flex-col items-end text-sm">
                    <span class="text-slate-400">مرحباً بك،</span>
                    <span class="font-bold text-slate-700">المدير العام</span>
                </div>
                <div class="h-10 w-10 rounded-full bg-slate-200 border-2 border-white shadow-sm overflow-hidden">
                    <img src="https://ui-avatars.com/api/?name=Admin&background=0D8ABC&color=fff" alt="avatar">
                </div>
            </div>
        </div>
    </nav>

    <main class="max-w-7xl mx-auto p-4 md:p-8">
        
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
            <div class="lg:col-span-2 relative">
                <input type="text" id="searchInput" 
                       placeholder="ابحث عن مندوب، رقم، مشرف، أو منطقة..." 
                       class="w-full h-14 pr-12 pl-4 rounded-2xl border-none shadow-sm focus:ring-2 focus:ring-blue-500 bg-white text-slate-600 transition-custom outline-none text-lg">
                <span class="absolute right-4 top-4 text-slate-400">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg>
                </span>
            </div>
            <div class="flex gap-4">
                <div class="flex-1 bg-white p-4 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4">
                    <div class="p-3 bg-blue-50 rounded-lg text-blue-600" id="totalCountIcon">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor font-bold">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" />
                        </svg>
                    </div>
                    <div>
                        <p class="text-xs text-slate-500 font-bold uppercase">المندوبين</p>
                        <h3 class="text-xl font-bold text-slate-800" id="totalCount">0</h3>
                    </div>
                </div>
                <div class="flex-1 bg-white p-4 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4">
                    <div class="p-3 bg-emerald-50 rounded-lg text-emerald-600">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7" />
                        </svg>
                    </div>
                    <div>
                        <p class="text-xs text-slate-500 font-bold uppercase">المناطق</p>
                        <h3 class="text-xl font-bold text-slate-800" id="areaCount">0</h3>
                    </div>
                </div>
            </div>
        </div>

        <div id="mainContainer" class="grid grid-cols-1 gap-8">
            </div>

        <footer class="mt-16 text-center border-t border-gray-200 pt-8 pb-12">
            <p class="text-slate-400 text-sm font-medium">© 2024 نظام الإدارة الاستراتيجي للشركات. جميع الحقوق محفوظة.</p>
        </footer>
    </main>

    <script>
        // ملاحظة لعبد الله: تم الحفاظ على هيكلية البيانات الأصلية لضمان عمل الروابط بشكل صحيح
        const rawData = [
            {
                region: "المنطقة 01",
                supervisor: "رامي فيصل مصلح الصمادي",
                mainLink: "https://drive.google.com/open?id=1wzqCJbBv0Mc-uZMwPnhGTnYK8Ii1d3JE&usp=drive_fs",
                agents: [
                    { name: "محمود علي زكي قيصر", id: "1001", link: "https://drive.google.com/open?id=1uqJo9xb6xqUaUGNfHDHYISCPNNa87PjB&usp=drive_fs" },
                    { name: "صفوت علي زكي قيصر", id: "1047", link: "https://drive.google.com/open?id=1iefkmJzXGf5rKrIzqC5i8XXHzriwRdIY&usp=drive_fs" },
                    { name: "أحمد عبد الرحمن بديع رزق", id: "1010", link: "https://drive.google.com/open?id=1xKbj9ZKY0IOyuJ-hCG5LDgetc37pmWjL&usp=drive_fs" },
                    { name: "محمد عادل فالح النجار", id: "1024", link: "https://drive.google.com/open?id=1IDg-6FDqTOhxRp9kX3XteegndYKBH9C2&usp=drive_fs" },
                    { name: "بكر عادل عزات لافي", id: "1066", link: "https://drive.google.com/open?id=1DvVf9f_bDwAQVzfSYbZo9Gp7jt6qzPUD&usp=drive_fs" },
                    { name: "مصطفى حبيب عبد الرؤوف عطاء", id: "1008", link: "https://drive.google.com/open?id=1ncE2P6_i7Q5rCf-BbwFZvu4G0R5OCbG4&usp=drive_fs" },
                    { name: "علاء الدين طلال محمد عوده", id: "1045", link: "https://drive.google.com/open?id=1Ctav8a--lZ-11LUJhPas11YAfYPTH1CI&usp=drive_fs" },
                    { name: "ماجد فؤاد حسن حمد", id: "1038", link: "https://drive.google.com/open?id=1kn4zIOUxw8HWFD3l7-k09JsE8BcSovNc&usp=drive_fs" },
                    { name: "علاء فايز محمود المعالي", id: "1011", link: "https://drive.google.com/open?id=1LHYCgy-7ZJnim__YAQoerpnSmrdzY0h1&usp=drive_fs" },
                    { name: "عدنان حسين محمد شباب", id: "1034", link: "https://drive.google.com/open?id=1w56qvL9JKNcCkE3iSBJj7sByxPDswy-Z&usp=drive_fs" },
                    { name: "فراس يحيى صالح عيد", id: "1070", link: "https://drive.google.com/open?id=1OSXHkGeBP2KnS7At1g1cGeVfrf9hNaQF&usp=drive_fs", note: "مشرف علكة" }
                ]
            },
            {
                region: "المنطقة 02",
                supervisor: "حمزة درويش",
                mainLink: "https://drive.google.com/open?id=1DjbCd7JILvq0gE5lmRjILlSN3yljVaLT&usp=drive_fs",
                agents: [
                    { name: "حسين احمد موسى كتكت", id: "1027", link: "https://drive.google.com/open?id=14XKIumVhU_uC3IjenWE_4jmxzil0XPJn&usp=drive_fs" },
                    { name: "عمار محمد عبد السلام الصفدي", id: "1043", link: "https://drive.google.com/open?id=13zgNUjdEAN_BnoOn00L1IBW7yUUTUSkp&usp=drive_fs" },
                    { name: "صامد احمد ماجد القواسمه", id: "1062", link: "https://drive.google.com/open?id=16bWn4i9d5kNv2BMzpbpFvBTcIUrgYyge&usp=drive_fs" },
                    { name: "محمد طاهر محمد nاصر", id: "1063", link: "https://drive.google.com/open?id=1Fuzzpt8AY2cGNUpC6HexCkd6LxzqWFGW&usp=drive_fs" },
                    { name: "عمر محمد موسى الشاعر", id: "1050", link: "https://drive.google.com/open?id=1uJc5tFDMV3f9BRnPcFTJLIxzr_9KCyte&usp=drive_fs" },
                    { name: "رائد صقر حسين صالحيه", id: "1035", link: "https://drive.google.com/open?id=1fYCHs91VA4TwoYm1ecifBmwuL6awNW3w&usp=drive_fs" },
                    { name: "فائز جمال حسين دكروك", id: "1073", link: "https://drive.google.com/open?id=1kK8fgFp6BMeWbotmOdiXbfgDwxHhblj0&usp=drive_fs" },
                    { name: "بكر احمد بكر الأطرش", id: "1055", link: "https://drive.google.com/open?id=1zyZ48KVI4_jGwwsw2kgmFT7cLUeYbZs3&usp=drive_fs" },
                    { name: "اياد رائد ابو شاشيه", id: "1039", link: "https://drive.google.com/open?id=1JvN0-ziDwFxtyMX5ov4zGSaoH-V7JP6V&usp=drive_fs" },
                    { name: "شريف محمد عبد الجليل الحراحشه", id: "1046", link: "https://drive.google.com/open?id=14WqO425nleG3ZxX8hcMxndyh1schwOWR&usp=drive_fs" },
                    { name: "بشار علاوي ابراهيم المحمد", id: "1076", link: "https://drive.google.com/open?id=1iaMU6Y7-ICeagIRn85Cu-jyNb5_GKQoq&usp=drive_fs" }
                ]
            },
            {
                region: "المنطقة 022",
                supervisor: "يوسف النجار",
                mainLink: "https://drive.google.com/open?id=1WLQLgZMj3jcUQU8IlUAesoCKQ1xujFGW&usp=drive_fs",
                agents: [
                    { name: "اسامة خليل محمد عكاوي", id: "1014", link: "https://drive.google.com/open?id=11LK9-qX-EhRsnsrb7ml5JQrVQNVCU5X7&usp=drive_fs" },
                    { name: "نواف امجد نواف العطيوي", id: "1003", link: "https://drive.google.com/open?id=1Wl9H-wPDjwzjp-KN73dX7WJPlu4l7qPY&usp=drive_fs" },
                    { name: "اياد ناصر حلمي ابو غربية", id: "1006", link: "https://drive.google.com/open?id=1EVWjc_GJgM5u0ToauMfMCMfUbzSCIX69&usp=drive_fs" },
                    { name: "مؤيد هيثم عبد الكريم الزريقات", id: "1002", link: "https://drive.google.com/open?id=1exhFYMfxADePSAWGkZ1Nq4nzqm5Lz7OC&usp=drive_fs" },
                    { name: "خالد يسرى صالح الشرباتي", id: "1052", link: "https://drive.google.com/open?id=16beMZXnBfftGm-975ylmRp5W1ZUMZq0x&usp=drive_fs" },
                    { name: "معتصم فايز صالح الكتوت", id: "1058", link: "https://drive.google.com/open?id=1UyXqdSXd7HHETloZb2lhieF3iNaFom1b&usp=drive_fs" },
                    { name: "زيد محمد عماد غازي البنا", id: "1013", link: "https://drive.google.com/open?id=1oglP1NemHzoW4hxqT-jL5WrnuC5yYF95&usp=drive_fs" },
                    { name: "عبد الله محمود عثمان الحمزه", id: "1049", link: "https://drive.google.com/open?id=1P9hq6VWxRsT1SSkxbmIdctQ-Ng3IXOlF&usp=drive_fs" },
                    { name: "حمزه فوزي نمر حسنين", id: "1059", link: "https://drive.google.com/open?id=1QCGGHktt-rPADq6jWxIol3jPLsBEL1eX&usp=drive_fs" }
                ]
            },
            {
                region: "المنطقة 03",
                supervisor: "رواد احمد محمود الغول",
                mainLink: "https://drive.google.com/open?id=11NLFhtYybDquTW41Xaho9nO4xT5bwe-V&usp=drive_fs",
                agents: [
                    { name: "عبد الرحمن عادل لافي", id: "1019", link: "https://drive.google.com/open?id=17IyIQBRVG7qD622xIbwU94rnZsfINmtb&usp=drive_fs" },
                    { name: "امين كامل عبدالفتاح عبدالرحمن", id: "1054", link: "https://drive.google.com/open?id=1AWj3H9S14jqUtRNza-GJYMCWSBBhxQxd&usp=drive_fs" },
                    { name: "رامي جمال نظمي سعد", id: "1060", link: "https://drive.google.com/open?id=1XymEXILHALIf6xQ2FN0c7y1P80xIZo39&usp=drive_fs" },
                    { name: "محمد عبد اللطيف ابو العز", id: "1061", link: "https://drive.google.com/open?id=1-TT_EoBipa328DxFhbEG45VukT1ejs-Q&usp=drive_fs" },
                    { name: "عبد الرحمن نبيل عبيد الله الرواشده", id: "1022", link: "https://drive.google.com/open?id=1RG8SHPTizIwEC8vFU7kLMBSkgN89ze8Q&usp=drive_fs" },
                    { name: "ادم خالد حسن ابو نمره", id: "1025", link: "https://drive.google.com/open?id=1iPfxBaxHewMZB9NIBM9d2GyVyTJGHZfp&usp=drive_fs" },
                    { name: "فارس فضل الرحمن احمد الشايب", id: "1044", link: "https://drive.google.com/open?id=1W4AaspvpWsAlnwidhyokPxYxV7FHt5YF&usp=drive_fs" },
                    { name: "رامي احمد عبد الله حماد", id: "1012", link: "https://drive.google.com/open?id=1GjOSzMKlczHt-JjsW-cRvlMOr4xOUhmK&usp=drive_fs" },
                    { name: "عمار مصطفى عوض القيسي", id: "1015", link: "https://drive.google.com/open?id=1Sd43DrwWY1UXdfCyj8exzpiCcVtH0T0F&usp=drive_fs" }
                ]
            },
            {
                region: "المنطقة 04",
                supervisor: "محمد نعيم",
                mainLink: "https://drive.google.com/open?id=18XzxVN7Bwps3wjW_fdTzUdYKTAAaytx9&usp=drive_fs",
                agents: [
                    { name: "موسى عمر عبد العزيز المصري", id: "1030", link: "https://drive.google.com/open?id=1euJwcryzf5fNP3QqseZdfphz809SLWVi&usp=drive_fs" },
                    { name: "عمار احمد حسين ملحم", id: "1009", link: "https://drive.google.com/open?id=1m4rcTtp7Gc4kkSEa52Uw77pjv6BgIzkT&usp=drive_fs" },
                    { name: "فارس علي سليمان العمارات", id: "1033", link: "https://drive.google.com/open?id=1gxmGmxXBCsmk5tcJT2Cd5blAlLHO9iB9&usp=drive_fs" },
                    { name: "حسين محمود علي نصار", id: "1023", link: "https://drive.google.com/open?id=1j2bWcK2tqDOEwU5PFdDdn5p_iZzPuNkB&usp=drive_fs" },
                    { name: "ليث محمد فؤاد الديب", id: "1075", link: "https://drive.google.com/open?id=1hd-4sCK_lwvGfK5t0T_PSEsg8xLAl0_M&usp=drive_fs" },
                    { name: "محمد سليمان عبد القادر الزواهره", id: "1020", link: "https://drive.google.com/open?id=1w7uRbPGLefQc0DjqeNG_6gVKuA11hC5I&usp=drive_fs" },
                    { name: "بلال عبد اللطيف محمد الشطناوي", id: "1028", link: "https://drive.google.com/open?id=1_VC2U4DTSL4IThqHVDXTOC_b9t_-6GLE&usp=drive_fs" },
                    { name: "عبد الله ابراهيم محمود الخطيب", id: "1031", link: "https://drive.google.com/open?id=1udwLND7uWLBpgNGsF2cWNzpGqLHS_jbd&usp=drive_fs" },
                    { name: "نزيه عبد الكريم جبرين ابو العينين", id: "1040", link: "https://drive.google.com/open?id=1JdBHpuILwtEXi2If7dYG9uxY0NzhimHA&usp=drive_fs" },
                    { name: "محمد حمدي شكري قنيبي", id: "1018", link: "https://drive.google.com/open?id=175_NytoeRuH0jqKQjBdwPSlaCxEmAZtk&usp=drive_fs" },
                    { name: "غازي ايمن غازي حميدي", id: "1056", link: "https://drive.google.com/open?id=1Ac2OtFzBwca0Q2uqHriZMpR5-5a8MGQY&usp=drive_fs" },
                    { name: "ليث محمد قندح العويدي", id: "1026", link: "https://drive.google.com/open?id=1_bYl83udHxMHSrbFOthBnewSu2Y4nJbM&usp=drive_fs" }
                ]
            },
            {
                region: "المنطقة 05",
                supervisor: "عبد الكريم صالح محمد الحوراني",
                mainLink: "https://drive.google.com/open?id=1R1frx7GND0BwKDl5KqrgWVLNRm1EiYnZ&usp=drive_fs",
                agents: [
                    { name: "ابراهيم عدنان خليل الدحله", id: "1004", link: "https://drive.google.com/open?id=16musJwda-h2Ry1R-PfCPm3qPetXMN_Ig&usp=drive_fs" },
                    { name: "غاندي محمد محمود غادي", id: "1016", link: "https://drive.google.com/open?id=1z3hCGiVBdfBMDbMRY0H6W_ZUCcF6xJzy&usp=drive_fs" },
                    { name: "محمد هارون مصطفى طلافحه", id: "1017", link: "https://drive.google.com/open?id=1UyMKhBMB1e5-FDMI8gDn5x6JXdKs-vy7&usp=drive_fs" },
                    { name: "احمد طايل محمود العمري", id: "1032", link: "https://drive.google.com/open?id=1XL82a-8x8ZSiBMP-Dpdp8ymfl7SYT0hu&usp=drive_fs" },
                    { name: "احمد موفق احمد شطناوي", id: "1041", link: "https://drive.google.com/open?id=1bTQqw3NBuCboW4YpJ-RVqK21jDHiKNaP&usp=drive_fs" },
                    { name: "بكر ايمن عدنان يعقوب", id: "1042", link: "https://drive.google.com/open?id=1rTzeAC6Y94gCc6T3G-hBWgeoAqe73QsK&usp=drive_fs" },
                    { name: "احمد محمد احمد دبور", id: "1048", link: "https://drive.google.com/open?id=1F6s-02AiK7T10Zsc1g2UuSs4GUlgNhp5&usp=drive_fs" },
                    { name: "منتصر صالحي ياسين الحاج ابراهيم", id: "1051", link: "https://drive.google.com/open?id=1SYuux93ypkyYsjzMl-VidPY6Xle-CxON&usp=drive_fs" },
                    { name: "حازم محمد علي الطوالبة", id: "1053", link: "https://drive.google.com/open?id=1smZSXbGPsKN3Q7qNAjHzoZILadhxoDu9&usp=drive_fs" },
                    { name: "محمد عبد الله ابراهيم الديك", id: "1064", link: "https://drive.google.com/open?id=1hCf2iU7SUloQho1fGSaVFa0Xb1A0vWh-&usp=drive_fs" },
                    { name: "عمر ايمن عبد الله الزعبي", id: "1072", link: "https://drive.google.com/open?id=1qxvIMxuAHz2OlDQrI4qcikhrD_kKExaT&usp=drive_fs" },
                    { name: "حسين احمد محمد الجمل", id: "1078", link: "https://drive.google.com/open?id=17NBygEbwmE1JdnKSI_mzBpmMB8qbKDuj&usp=drive_fs" },
                    { name: "خالد معاوية عقلة عتوم", id: "1079", link: "https://drive.google.com/open?id=1xy7Nl3P-zf_1gUcRGoHjFC-0cFqU943b&usp=drive_fs" }
                ]
            }
        ];

        const mainContainer = document.getElementById('mainContainer');
        const searchInput = document.getElementById('searchInput');
        const totalCountEl = document.getElementById('totalCount');
        const areaCountEl = document.getElementById('areaCount');

        function renderData(filter = "") {
            mainContainer.innerHTML = "";
            let totalAgents = 0;
            let totalAreas = 0;

            rawData.forEach(area => {
                const filteredAgents = area.agents.filter(agent => 
                    agent.name.includes(filter) || 
                    agent.id.includes(filter) || 
                    area.supervisor.includes(filter) ||
                    area.region.includes(filter)
                );

                if (filteredAgents.length > 0 || area.supervisor.includes(filter) || area.region.includes(filter)) {
                    totalAreas++;
                    totalAgents += filteredAgents.length;

                    const areaSection = document.createElement('div');
                    areaSection.className = "bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden transition-custom";
                    
                    areaSection.innerHTML = `
                        <div class="bg-slate-50 p-6 border-b border-gray-100 flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
                            <div>
                                <div class="flex items-center gap-2 mb-1">
                                    <span class="px-2 py-0.5 bg-blue-100 text-blue-700 text-[10px] font-bold rounded uppercase tracking-wider">${area.region}</span>
                                </div>
                                <h2 class="text-xl font-bold text-slate-800 flex items-center gap-2">
                                    المشرف: ${area.supervisor}
                                </h2>
                            </div>
                            <a href="${area.mainLink}" target="_blank" class="group bg-slate-800 hover:bg-blue-600 text-white px-6 py-2.5 rounded-xl text-sm font-bold transition-custom flex items-center gap-2 shadow-md hover:shadow-blue-200">
                                <span>المجلد الرئيسي</span>
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 group-hover:translate-x-[-2px] transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                                </svg>
                            </a>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="w-full text-right">
                                <thead>
                                    <tr class="text-slate-400 text-xs font-bold uppercase tracking-widest border-b border-gray-50">
                                        <th class="py-4 px-6">المعرف الرقمي</th>
                                        <th class="py-4 px-6">اسم المندوب المعتمد</th>
                                        <th class="py-4 px-6 text-center">الإجراءات الاستراتيجية</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-gray-50">
                                    ${filteredAgents.map(agent => `
                                        <tr class="data-row transition-custom group">
                                            <td class="py-4 px-6">
                                                <span class="font-mono text-slate-400 bg-slate-50 px-2 py-1 rounded-md text-sm">${agent.id}</span>
                                            </td>
                                            <td class="py-4 px-6">
                                                <div class="flex flex-col">
                                                    <span class="font-bold text-slate-700">${agent.name}</span>
                                                    ${agent.note ? `<span class="text-[10px] text-amber-600 font-bold">${agent.note}</span>` : ''}
                                                </div>
                                            </td>
                                            <td class="py-4 px-6">
                                                <div class="flex justify-center">
                                                    <a href="${agent.link}" target="_blank" 
                                                       class="flex items-center gap-2 px-4 py-2 rounded-lg text-blue-600 hover:bg-blue-50 font-bold transition-custom border border-transparent hover:border-blue-100">
                                                       <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                                                        </svg>
                                                        <span>تحليل الأهداف</span>
                                                    </a>
                                                </div>
                                            </td>
                                        </tr>
                                    `).join('')}
                                </tbody>
                            </table>
                        </div>
                    `;
                    mainContainer.appendChild(areaSection);
                }
            });

            totalCountEl.textContent = totalAgents;
            areaCountEl.textContent = totalAreas;
            
            if (totalAreas === 0) {
                mainContainer.innerHTML = `
                    <div class="text-center py-24 bg-white rounded-3xl border border-dashed border-slate-200">
                        <div class="w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-6">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-slate-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold text-slate-800 mb-2">لا توجد بيانات مطابقة</h3>
                        <p class="text-slate-500 mb-6">تأكد من كتابة الاسم أو الرقم بشكل صحيح للمحاولة مرة أخرى.</p>
                        <button onclick="searchInput.value=''; renderData('');" class="px-6 py-2 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 transition-custom shadow-lg shadow-blue-100">إعادة تعيين البحث</button>
                    </div>
                `;
            }
        }

        searchInput.addEventListener('input', (e) => {
            renderData(e.target.value);
        });

        renderData();
    </script>
</body>
</html>
